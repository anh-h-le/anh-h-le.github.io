<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="keywords" content="Anh Le, USC, Business Intelligence Intern, Business Student">
  <meta name="description" content="Custom Spotify Playlist Design Group Project">
  <title>Anh Le | Custom Playlist Design</title>

  <!-- Fonts and icons -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Google+Sans+Code">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

  <!-- MathJax configuration -->
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['\\[','\\]'], ['$$','$$']],
        displayAlign: 'center',
        displayIndent: '0'
      },
      svg: {
        fontCache: 'global',
        matchFontHeight: false
      }
    };
  </script>
  <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js"></script>

  <link rel="stylesheet" href="../main.css">

  <style>
    body {
      color: white;
    }

    .veil {
      height: 30%;
    }

    #header {
      background-image: url('img/futuristic.jpg');
      background-position: top center;
      background-size: 60%;
      padding-top: 300px;
      padding-bottom: 300px;
      overflow: visible;
    }

    h1 {
      font-size: 5em;
    }

    #collage {
      position: absolute;
      bottom: -150px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      justify-content: center;
      align-items: flex-start;
      gap: 30px;
      z-index: 3;
      flex-wrap: nowrap;
      width: 100%;
      max-width: 1100px;
    }

    .collage-item {
      width: 350px;
      border-radius: 20px;
      box-shadow: 0px 0px 8px rgb(10, 85, 142);
      height: auto;
    }

    #overview-section {
      margin: 0 auto;
      width: 1100px;
      color: rgb(10, 85, 142);
      font-family: 'Google Sans Code';
      padding-top: 230px;
      font-size: 1em;
      line-height: 1.5em;
    }

    #overview-heading, #base-heading {
      font-family: Tahoma, Lexend, sans-serif;
      color: #0a66c2;
      font-size: 2.25em;
    }

    #base-model, #revised-model, #sensitivity, #recs {
      margin: 0 auto;
      width: 1100px;
      margin-top: 80px;
      font-family: 'Google Sans Code';
      font-size: 1em;
      line-height: 1.5em;
    }

    /* MathJax font size and centering */
    mjx-container[jax="SVG"] {
      display: block;
      text-align: center;
      font-size: 1em;         /* consistent across all equations */
      overflow-x: auto;
      overflow-y: hidden;
      padding: 0.5em 0;
      box-sizing: border-box;
    }

    mjx-container[jax="SVG"] svg {
      display: inline-block;
      height: auto;
    }

    .math {
      display: block;
      text-align: center;
      margin: 1em auto;
    }

    #graphs {
        width: 100%;
        display: block;
        margin: auto;
    }

    /* Responsive layout */
    @media (max-width: 1100px) {
      #overview-section, #base-model, #revised-model, #sensitivity, #recs {
        width: 90%;
      }
      .collage-item {
        width: 300px;
      }
    }

    @media (max-width: 900px) {
      body {
        font-size: 1em;
        text-align: center;
      }

      h1, h2 {
        text-align: center;
      }

      #overview-section, #base-model, #revised-model, #sensitivity, #recs {
        text-align: center;
      }

      #data-description, #parameters, #recs-list, #findings {
        text-align: left;
      }

      #header {
        padding-top: 200px;
        padding-bottom: 50px;
      }

      h1 {
        font-size: 3.5em;
      }

      .collage-item:first-child, .collage-item:last-child {
        display: none;
      }

      #collage {
        position: static;
        margin-top: 60px;
        transform: none;
      }

      .collage-item {
        width: 300px;
        display: block;
        margin: 0 auto;
      }

      #overview-section {
        padding-top: 80px;
      }

      h2, #overview-heading, #base-heading {
        font-size: 1.8em;
        line-height: 2em;
      }
    }

    @media (max-width: 600px) {
      h1 {
        font-size: 2em;
      }

      #header {
        padding-top: 160px;
        padding-bottom: 50px;
      }

      .collage-item {
        width: 70%;
      }

      #overview-section, #base-model, #revised-model, #sensitivity, #recs {
        font-size: 0.8em;
      }

      #overview-section {
        padding-top: 70px;
      }

      h2, #overview-heading, #base-heading {
        width: 90%;
        font-size: 1.5em;
        line-height: 1.5em;
      }

      /* shrink math fonts on small screens */
      mjx-container[jax="SVG"] {
        font-size: 0.8em;
      }
    }
  </style>
</head>

<body>
  <div id="content">
    <div id="header">
      <h1>Custom Spotify Playlist Design with Linear Optimization</h1>
      <div class="veil"></div>

      <div id="main-buttons">
        <p><a href="https://anh-h-le.github.io/index.html" class="link"><strong>Home</strong></a></p>
        <p><a href="overview.html" class="link"><strong>Projects</strong></a></p>
      </div>

      <div id="collage">
        <img class="collage-item" src="img/custom-playlist-design/music-note.jpg" alt="Music Note">
        <img class="collage-item" src="img/custom-playlist-design/beautiful-music.jpg" alt="Beautiful Music">
        <img class="collage-item" src="img/custom-playlist-design/abstract-music.jpg" alt="Abstract Music">
      </div>
    </div>

    <div id="overview-section">
      <h2 id="overview-heading">Overview</h2>
      <p style="margin-top: 30px;">The objective of the group project for BUAD 313 (Advanced Operations Management
        and Analytics) was to create a base model implementing simple requirements, critique the limitations of
        the base model, and build a revised model with improvements.</p>
      <p>Data description:</p>
        <div id="data-description">
        <ul>
            <li><em>artists.csv:</em></li>
            <ul>
            <li>taken from Kaggle</li>
            <li>combines information from two sources:
                <ul>
                <li>MusicBrainz: an open, free database of musical metadata</li>
                <li>Last.fm: a music tracking platform that provides user engagement information</li>
                <li>contains musical artists' names, tags, and popularity (listeners/scrobbles)</li>
                </ul>
            </li>
            </ul>
            <li><em>songs_with_predictions_small.csv:</em> 18 users and 19,939 songs (after removing duplicates)
            <ul>
                <li>song title and artist name</li>
                <li>a predicted score for each user, with 0 indicating few or no listens</li>
                <li>an average score across all users</li>
            </ul>
            </li>
        </ul>
        </div>
    </div>

    <div id="base-model">
      <h2 id="base-heading">Base Model</h2>
      <p style="margin-top: 30px;">Select 30 tracks to maximize the target user's total rating, with at most one song per artist.</p>
      <p>Formulation:</p>
      <ul>
        <li>
          Index Sets
          <div class="math">
            \[
            \begin{aligned}
            &\textbf{tracks } = \text{list of tracks after cleaning } (19{,}939 \text{ total}) \\
            &\textbf{unique_artists } = \text{list of unique artists after cleaning}
            \end{aligned}
            \]
          </div>
        </li>

        <li>
          Indexed Data
          <div class="math">
            \[
            \begin{aligned}
            &\textbf{artist_songs}_a = \text{tracks by artist } a, \forall a \in \textbf{unique_artists} \\
            &r_i = \text{target user's rating for track } i, \forall i \in \textbf{tracks}
            \end{aligned}
            \]
          </div>
        </li>

        <li>
          Decision Variables
          <div class="math">
            \[
            x_i =
            \begin{cases}
            1, & \text{if track } i \text{ is selected for the playlist}\\
            0, & \text{otherwise}
            \end{cases}
            \quad \forall i \in \textbf{tracks}
            \]
          </div>
        </li>

        <li>
          Objective
          <div class="math">
            \[
            \max \sum_{i \in \textbf{tracks}} r_i\, x_i
            \]
          </div>
        </li>

        <li>
          Constraints
          <div class="math">
            \[
            \sum_{i \in \textbf{tracks}} x_i = 30 \quad \text{(Playlist length)}
            \]
            \[
            \sum_{i \in \textbf{artist_songs}_a} x_i \le 1 \quad \forall a \in \textbf{unique_artists} \quad \text{(Artist uniqueness)}
            \]
            \[
            x_i \in \{0,1\} \quad \forall i \in \textbf{tracks}
            \]
          </div>
        </li>
      </ul>
    </div>

    <div id="revised-model">
      <h2 id="revised-heading">Revised Model</h2>
      <p style="margin-top: 30px;">Select 30 tracks to maximize user rating, while maintaining artist uniqueness and introducing diversity constraints (country, tag, and unrated songs).</p>
      <p>The revised model addresses the base modelâ€™s limitations by adding diversity and customization constraints, ensuring playlists include new, varied songs across countries and tags while still aligning with user preferences.</p>

      <p>Formulation:</p>
      <ul>
        <li>
            Index Sets
            <div class="math">
                \[
                \begin{aligned}
                &\textbf{tracks } = \text{ list of tracks from the merged dataset (left-merge of }
                \texttt{songs_with_predictions_small.csv} \text{ and } \texttt{artists.csv})
                \text{ after cleaning } (\text{total number of tracks} = 19{,}939)\\
                &\textbf{unique_artists } = \text{ list of unique artists from the merged dataset}\\
                &\textbf{unique_countries } = \text{ list of unique countries from the merged dataset}\\
                &\textbf{unique_tags } = \text{ list of unique tags from the merged dataset}\\
                &\textbf{unrated_songs } = \text{ list of songs that the target user has not rated}
                \end{aligned}
                \]
            </div>
        </li>

        <li>
            Indexed Data
            <div class="math">
                \[
                \begin{aligned}
                &\textbf{artist_songs}_a = \text{tracks by artist } a, \quad \forall a \in
                \textbf{unique_artists}\\
                &\textbf{country_songs}_c = \text{tracks from country } c, \quad \forall c \in
                \textbf{unique_countries}\\
                &\textbf{tag_songs}_t = \text{tracks with tag } t, \quad \forall t \in \textbf{unique_tags}\\
                &r_i = \text{target user's rating for track } i, \quad \forall i \in \textbf{tracks}
                \end{aligned}
                \]
            </div>
        </li>

        <li>
            Decision Variables
            <div class="math">
                \[
                x_i =
                \begin{cases}
                1, & \text{if track } i \text{ is selected for the playlist}\\
                0, & \text{otherwise}
                \end{cases}
                \qquad \forall i \in \textbf{tracks}
                \]
            </div>
        </li>

        <li>
            Objective
            <div class="math">
                \[
                \max \quad \sum_{i \in \textbf{tracks}} r_i\, x_i
                \]
            </div>
        </li>
        <li>
          Constraints
          <div class="math">
            \[
            \sum_{i \in \textbf{tracks}} x_i = 30 \quad \text{(Playlist length)}
            \]
            \[
            \sum_{i \in \textbf{artist_songs}_a} x_i \le 1 \quad \forall a \in \textbf{unique_artists} \quad \text{(Artist uniqueness)}
            \]
            \[
            \sum_{i \in \textbf{unrated_songs}} x_i = 5 \quad \text{(Exactly 5 unrated tracks)}
            \]
            \[
            \sum_{i \in \textbf{country_songs}_c} x_i \le 10 \quad \forall c \in \textbf{unique_countries} \quad \text{(Country limit)}
            \]
            \[
            \sum_{i \in \textbf{tag_songs}_t} x_i \le 10 \quad \forall t \in \textbf{unique_tags} \quad \text{(Tag limit)}
            \]
          </div>
        </li>
      </ul>
    </div>

    <div id="sensitivity">
      <h2>Sensitivity and Robustness Analysis</h2>
      <p>We conducted sensitivity analysis by adding pertubations to the predicted ratings or on key parameters:</p>
      <div id="parameters">
        <ul>
            <li>adding "noise" to predicted ratings: model becomes infeasible.</li>
            <li>playlist length: the objective value decreases as the playlist length increases within the allowable range.</li>
            <li>artist limit: the objective value increases as the number of artists in the playlist increases within the allowable range.</li>
            <li>unrated limit: the objective value increases as the number of unrated songs increases within the allowable range.</li>
            <li>country limit: the objective value increases as the country limit reaches 10, but then levels off thereafter.</li>
            <li>tag limit: the objective value increases as the tag limit increases within the allowable range.</li>
        </ul>
      </div>
      <p>Key Findings on Sensitivity and Robustness:</p>
      <div id-="findings">
        <ul>
            <li>Adding constraints would create a trade-off between diversity improvement and rating maximization: lower optimal value than that of the base model.</li>
            <li>More constraints and extended dataset: longer processing and optimizing time, which is not appropriate for real-world applications.</li>
            <li>When predicted ratings change, the model becomes infeasible since the unpopular, unrated songs now have non-zero ratings, and the unrated limit constraint is not met.</li>
        </ul>
      </div>
      <img id="graphs" src="img/custom-playlist-design/sensitivity-analysis.png" alt="Sensitivity Analysis Graphs">
    </div>

    <div id="recs">
        <h2>Recommendations and Implications</h2>
        <div id="recs-list">
        <ol>
            <li>Set up a model that could check for the number of unrated songs available before setting the unrated limit (to know if we should turn on or off the constraint or adjust the limit) to make sure the model is feasible when noise is added.</li>
            <li>Allow users to define a playlist length based on either songs or minutes, which include gathering more data on song durations from Spotify.</li>
            <li>Implement a machine learning system that could group the songs into clusters/themes based on tags and allow for selecting songs based on user's genre preferences.</li>
            <li>Introduce a multi-objective optimization function to assign different weights for different factors instead of maximizing solely user's ratings.</li>
        </ol>
        </div>
    </div>

    <div id="footer">
      <p>Thank you for visiting.</p>
      <p>Anh Le - 2025</p>
      <a href="https://www.linkedin.com/in/anhle-uscbuad/" target="_blank" class="button"><i class="fa fa-linkedin-square"></i></a>
      <p>Email: <a href="mailto:anhle.ahl@gmail.com" class="link">anhle.ahl@gmail.com</a></p>
    </div>
  </div>
</body>
</html>